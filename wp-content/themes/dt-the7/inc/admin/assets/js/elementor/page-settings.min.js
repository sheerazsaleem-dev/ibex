jQuery((function(e){"use strict";var t;function n(e){window.$e.route("panel/page-settings/settings"),window.elementor.getPanelView().currentPageView.activateSection(e)._renderChildren()}function o(t,n){var o;(n=n.filter((function(e){return!e.section||elementor.settings.page.model.controls[e.section]})))&&(o=function(t){var n=t.reduce((function(e,t){return e+'<li class="the7-elementor-element-setting the7-elementor-element-setting-'+t.action+'" title="'+t.title+'"><i class="'+t.icon+'" aria-hidden="true"></i><span class="elementor-screen-only">'+t.title+"</span></li>"}),"");return e(n='<div class="the7-elementor-overlay"><ul class="the7-elementor-element-settings">'+n+"</ul></div>")}(n),n.forEach((function(e){if(e.events){var t=e.events,n=o.find(".the7-elementor-element-setting-"+e.action);for(var r in t)n.on(r,t[r])}})),t.addClass("the7-elementor-overlay-active"),t.append(o))}elementor.on("document:loaded",(function(r){var i=e("#elementor-preview-iframe").first().contents();!function(){var t=e("#elementor-preview-iframe").first().contents(),n=e(".the7-elementor-overlay-active",t);n.find(".the7-elementor-overlay").remove(),n.removeClass("the7-elementor-overlay-active")}();var a=e(".elementor-editor-active #content > .elementor",i),l=e(".elementor-editor-active #page > .elementor-location-header",i);e(".transparent.title-off #page > .masthead",i).hover((function(){a.children(".elementor-document-handle").addClass("visible"),l.children(".elementor-document-handle").addClass("visible")}),(function(){a.children(".elementor-document-handle").removeClass("visible"),l.children(".elementor-document-handle").removeClass("visible")}));var c=e("body.elementor-editor-footer")[0],s=e("body.elementor-editor-header")[0];if(void 0===c&&void 0===s&&(o(e("#sidebar",i),[{action:"edit",title:"Edit Sidebar",icon:"eicon-edit",section:"the7_document_sidebar",events:{click:function(){return n("the7_document_sidebar"),!1}}}]),void 0===e("#footer.elementor-footer",i)[0]&&o(e("#footer > .wf-wrap > .wf-container-footer",i),[{action:"edit",title:"Edit Footer",icon:"eicon-edit",section:"the7_document_footer",events:{click:function(){return n("the7_document_footer"),!1}}}])),void 0===c){var d=e(".elementor-location-header",i)[0];(void 0!==d&&void 0!==s||void 0===d&&void 0===s)&&o(e(".masthead, .page-title, #main-slideshow, #fancy-header",i),[{action:"edit",title:"Edit Title",icon:"eicon-edit",section:"the7_document_title_section",events:{click:function(){return n("the7_document_title_section"),!1}}}])}elementor.settings.page.model.on("change",(function(o){var r,i,a,l=e("#elementor-preview-iframe").first().contents(),c=(r=Object.keys(o.changed),(i=the7Elementor.controlsIds).length>r.length&&(a=i,i=r,r=a),r.filter((function(e){return i.indexOf(e)>-1}))),s=o.changed.the7_document_disabled_header_top_bar_color||o.changed.the7_document_fancy_header_top_bar_color,d=o.changed.the7_document_disabled_header_backgraund_color||o.changed.the7_document_fancy_header_backgraund_color;if(void 0!==s&&e(".top-bar .top-bar-bg",l).css("background-color",s),void 0!==d&&e(".masthead.inline-header, .masthead.classic-header, .masthead.split-header, .masthead.mixed-header",l).css("background-color",d),clearTimeout(t),c.length>0)t=setTimeout((function(){elementor.saver.saveAutoSave({onSuccess:function(){elementor.reloadPreview(),elementor.once("preview:loaded",(function(){o.controls[c[0]]&&setTimeout((function(){n(o.controls[c[0]].section)}))}))}})}),300);else{if("kit_settings"!==elementor.getPanelView().getCurrentPageName())return;var m=Object.keys(o.changed)[0];if(m in o.controls){var u=o.controls[m];if("the7_reload_on_change"in u&&!0===u.the7_reload_on_change){const e=elementor.getPanelView().getCurrentPageView().content.currentView.activeTab,n=elementor.getPanelView().getCurrentPageView().content.currentView.activeSection;t=setTimeout((function(){$e.internal("panel/state-loading"),jQuery("#elementor-preview-loading").show(),elementor.saver.update.apply().then((function(){$e.run("editor/documents/switch",{mode:"autosave",id:elementor.config.initial_document.id,onClose:function(e){e.isDraft()&&(elementor.toggleDocumentCssFiles(e,!0),elementor.settings.page.destroyControlsCSS()),elementor.documents.invalidateCache(elementor.config.kit_id)}}).finally((function(){elementor.reloadPreview(),elementor.once("preview:loaded",(function(){$e.run("editor/documents/switch",{id:elementor.config.kit_id,mode:"autosave"}).finally((function(){$e.route("panel/global/"+e),elementor.getPanelView().currentPageView.content.currentView.activateSection(n)._renderChildren(),$e.internal("panel/state-ready"),jQuery("#elementor-loading, #elementor-preview-loading").fadeOut(600)}))}))}))}))}),300)}}}}))}))})),function(e){"use strict";const t="the7-loop-items";e(window).on("elementor:init",(function(){let e=elementor.config.library_connect.is_connected;$e.routes.on("run:after",((n,o)=>{let r=o.match(/(library\/templates\/)(\S+)/);"library"===n.getNamespace()&&r&&(t===r[2]?elementor.config.library_connect.is_connected=!0:elementor.config.library_connect.is_connected=e)}))})),e(window).on("elementor:loaded",(function(){var e;e=Marionette.Behavior.extend({ui:{insertButton:".elementor-template-library-template-insert"},events:{"click @ui.insertButton":"onInsertButtonClick"},onInsertButtonClick:function(){var e={model:this.view.model};this.ui.insertButton.addClass("elementor-disabled"),"remote"!==e.model.get("source")||elementor.config.library_connect.is_connected?$e.run("library/insert-template",e):$e.route("library/connect",e)}}),Marionette.ItemView.extend({template:"#tmpl-elementor-template-library-header-preview",id:"elementor-template-library-header-preview",behaviors:{insertTemplate:{behaviorClass:e}}});class n extends $e.modules.hookData.After{getCommand(){return"document/save/save"}getConditions(e){const t=e.status,n=e.document,o=void 0===n?elementor.documents.getCurrent():n;return"publish"===t&&"kit"===o.config.type}getId(){return"the7-saver-after-save"}apply(e){const t=e.document.container.settings;jQuery.each(t.changed,(function(e){"undefined"!==t&&"undefined"!==t.controls&&"the7_save"in t.controls[e]&&!0===t.controls[e].the7_save&&e in elementor.settings.page.model.controls&&e in t.attributes&&(elementor.settings.page.model.controls[e].default=t.attributes[e])}))}}class o extends $e.modules.hookData.After{getCommand(){return"editor/documents/open"}getConditions(e){const t=elementor.documents?.get(e.id);return"loop-item"===t?.config?.type}getId(){return"the7-loop-items-add-library-tab"}apply(e){$e.components.get("library").hasTab(`templates/${t}`)||$e.components.get("library").addTab(`templates/${t}`,{title:"The7 Loop",filter:{source:function(){return elementor.channels.templates.reply("filter:source","remote"),"the7-remote"},type:"lb",subtype:elementor.config.document.settings.settings.source}},0)}}$e.hooks.registerDataAfter(new n),$e.hooks.registerDataAfter(new o),elementor.hooks.addFilter("elementor/editor/template-library/template/action-button",(function(e,t){return t.template_id.toString().startsWith("the7_")?t.the7_pro?"#tmpl-elementor-template-library-get-the7-pro-insert-button":"#tmpl-elementor-template-library-get-the7-insert-button":e}))}))}(jQuery);
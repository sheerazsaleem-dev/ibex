jQuery((function(e){e.productListGallery=function(n){let t,o,i,a,s,r,l,d,u,c,m,f,h=e(n),p=!1,g=(h.find(".dt-product-gallery"),h.find(".gallery-video-wrap"));e.data(n,"productListGallery",h),t={init:function(){if(h.layzrInitialisation(),o=new The7ElementorSettings(h),s=o.getSettings(),r=!!s.controls,d=!!s.autoplay,u=!!s.play_on_mobile,c=elementorFrontend.getCurrentDeviceMode(),l=h.find(".the7-overlay-content"),m=h.find(".the7-video-overlay"),$triggerZoom=h.find(".woocommerce-product-gallery__trigger"),l.length&&(p=!0,i=new The7ElementorAnimation,a=i.findAnimationsInNode(l),h.find("a.post-thumbnail-rollover").length&&!elementorFrontend.isEditMode()&&(l.css("cursor","pointer"),l.on("click",(function(n){let t=e(this).parent().find("a.post-thumbnail-rollover");"a"===n.target.tagName.toLowerCase()||e(n.target).parents("a").length||"button"===n.target.tagName.toLowerCase()||t.trigger("click")})))),"y"===s.open_lightbox&&h.find(".dt-gallery-container").initPhotoswipe(),"y"!==s.open_lightbox&&r||h.on("click","video",(function(){this.paused?this.play():this.pause()})),m.length?g.on("click",(function(n){var o=e(this);o.hasClass("playing-video")||(o.find(".the7-video-overlay").remove(),t.playPauseVideo(o,"play"),o.addClass("playing-video"))})):("desktop"===c&&d||"mobile"===c&&d&&u)&&g.each((function(){var n=e(this);t.playPauseVideo(n,"play")})),h.refresh(),p&&(f=The7ElementorSettings.getResponsiveControlValue(s,"hover_visibility"),"hover-hide"===f))i.animateElements(a);if($triggerZoom.length&&h.on("click",".zoom-flash",(function(e){e.preventDefault(),$triggerZoom.trigger("click")})),void 0===n)var n={};h.one("mouseenter",(function(){h.find(".post-thumbnail-rollover img").addClass("run-img-transitions")}))},handleResize:function(){if(p)switch(f=The7ElementorSettings.getResponsiveControlValue(s,"hover_visibility"),f){case"always":i.animateElements(a);break;case"disabled":i.resetElements(a)}},bindEvents:function(){elementorFrontend.elements.$window.on("the7-resize-width-debounce",t.handleResize),p&&h.on({mouseenter:t.mouseenter,mouseleave:t.mouseleave})},unBindEvents:function(){elementorFrontend.elements.$window.off("the7-resize-width-debounce",t.handleResize),p&&h.off({mouseenter:t.mouseenter,mouseleave:t.mouseleave})},mouseenter:function(){switch(f){case"hover":t.addAnimation();break;case"hover-hide":t.resetAnimation()}},mouseleave:function(){switch(f){case"hover":t.resetAnimation();break;case"hover-hide":t.addAnimation()}},onOverlayTransitionsEnd:function(e){"opacity"===e.originalEvent.propertyName&&i.resetElements(a)},resetAnimation:function(){l.on("transitionend",t.onOverlayTransitionsEnd)},addAnimation:function(){l.off("transitionend",t.onOverlayTransitionsEnd),i.animateElements(a)},playPauseVideo:function(e,n){var i,a,r,l,d;if(s=o.getSettings(),l=!!s.mute,d=!!s.loop,i=e.find("iframe").length>0?e.find("iframe").attr("title").split(" ")[0]:"video",a=e.find("iframe").get(0),"vimeo"===i)switch(n){case"play":0,t.postMessageToPlayer(a,{method:"play",value:1});break;case"pause":t.postMessageToPlayer(a,{method:"pause",value:1})}else if("youtube"===i)switch(n){case"play":l&&t.postMessageToPlayer(a,{event:"command",func:"mute"}),t.postMessageToPlayer(a,{event:"command",func:"playVideo"}),d&&t.postMessageToPlayer(a,{event:"command",func:"loop"});break;case"pause":t.postMessageToPlayer(a,{event:"command",func:"pauseVideo"})}else"video"===i&&null!=(r=e.find("video").get(0))&&("play"===n?r.play():r.pause())},postMessageToPlayer:function(e,n){null!=e&&null!=n&&e.contentWindow.postMessage(JSON.stringify(n),"*")}},h.refresh=function(){s=o.getSettings(),t.unBindEvents(),t.bindEvents(),t.handleResize()},h.delete=function(){t.unBindEvents(),h.removeData("productListGallery")},t.init()},e.fn.productListGallery=function(){return this.each((function(){var n=e(this).data("productListGallery");void 0!==n&&n.delete(),new e.productListGallery(this)}))}})),jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/the7-woocommerce-product-images-list.default",(function(e,n){n(document).ready((function(){elementorFrontend.isEditMode()&&The7ElementorAnimation.patchElementsAnimation(e),e.productListGallery()}))}))}));
!function(e){e(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/the7-woocommerce-loop-product-image.default",(function(e,i){i(document).ready((function(){elementorFrontend.isEditMode()&&The7ElementorAnimation.patchElementsAnimation(e),e.productSlider()}))})),elementorFrontend.isEditMode()||The7ElementorAnimation.patchElementsAnimation(e(".elementor-widget-the7-woocommerce-loop-product-image .the7-overlay-content")),elementorFrontend.isEditMode()&&elementorEditorAddOnChangeHandler("the7-woocommerce-loop-product-image",(function(i,n){let t=[...The7ElementorSettings.getResponsiveSettingList("hover_visibility")];const o=i.model.get("name");if(-1!==t.indexOf(o)){const i=e(n.$el),t=i.data("productSlider");void 0!==t?t.refresh():i.productSlider()}}))})),e.productSlider=function(i){const n={slider:".elementor-slides-wrapper",slide:"the7-swiper-slide",activeSlide:".swiper-slide-active",activeDuplicate:".swiper-slide-duplicate-active"};let t,o,s,a,r,l,d,p=e(i),u=!1,c={$swiperContainer:p.find(n.slider),animatedSlides:{},activeElements:[]};c.$slides=c.$swiperContainer.find("."+n.slide);const m=p.find(".elementor-slides-wrapper");e.data(i,"productSlider",p),t={init:function(){if(p.layzrInitialisation(),l=p.find(".the7-overlay-content"),l.length&&(u=!0,s=new The7ElementorAnimation,a=s.findAnimationsInNode(l),p.find("a.post-thumbnail-rollover").length&&!elementorFrontend.isEditMode()&&(l.css("cursor","pointer"),l.on("click",(function(i){let n=e(this).parent(),t=n.hasClass("product-image-carousel-wrap")?n.find(".dt-owl-item.active a.post-thumbnail-rollover"):n.find("a.post-thumbnail-rollover");"a"===i.target.tagName.toLowerCase()||e(i.target).parents("a").length||"button"===i.target.tagName.toLowerCase()||(void 0!==t.attr("data-elementor-open-lightbox")?t.trigger("click"):window.location.href=t.attr("href"))})))),o=new The7ElementorSettings(p),r=o.getSettings(),this.initSlider(),p.refresh(),u&&(d=The7ElementorSettings.getResponsiveControlValue(r,"hover_visibility"),"hover-hide"===d))s.animateElements(a);p.one("mouseenter",(function(){p.find(".post-thumbnail-rollover img").addClass("run-img-transitions")}))},initSlider:async function(){if(m.length){const e=elementorFrontend.utils.swiper;swiper=await new e(m,this.getSwiperOptions()),swiper.navigation.enabled=!0,t.isEnoughtElements(swiper.params.slidesPerView)&&(swiper.navigation.enabled=!1),t.loopLazyFix(),t.updateNav()}},getSwiperOptions:function(){swiperOptions={grabCursor:!0,loop:t.isEnableLoop(),loopPreventsSlide:!0,pauseOnMouseEnter:!0,speed:r.transition_speed,effect:r.transition,slideClass:"the7-swiper-slide",nested:!0};return swiperOptions.navigation={prevEl:c.$swiperContainer.siblings(".the7-swiper-button-prev")[0],nextEl:c.$swiperContainer.siblings(".the7-swiper-button-next")[0],disabledClass:"swiper-button-disabled"},swiperOptions.pagination={el:c.$swiperContainer.siblings(".swiper-pagination")[0],type:"bullets",bulletActiveClass:"active",bulletClass:"owl-dot",clickable:!0,renderBullet:function(e,i){return'<button role="button" class="'+i+'" aria-label="Go to slide '+e+'1"><span></span></button>'}},swiperOptions},getInitialSlide:()=>0,loopLazyFix:function(){if(swiper.params.loop){let i=e(swiper.wrapperEl).children("."+swiper.params.slideDuplicateClass);i.find(".is-loading").removeClass("is-loading"),i.layzrInitialisation()}},isEnableLoop:function(e){return t.getSlidesCount()>1},isEnoughtElements:function(e){return e<t.getSlidesCount()},getSlidesCount:function(){return c.$slides.length},updateNav:function(){t.isEnoughtElements(swiper.params.slidesPerView)?swiper.navigation.enabled||(swiper.navigation.destroy(),swiper.navigation.init(),swiper.navigation.update(),swiper.pagination.destroy(),swiper.pagination.init(),swiper.pagination.render(),swiper.pagination.update(),swiper.navigation.enabled=!0):swiper.navigation.enabled&&(swiper.navigation.destroy(),swiper.navigation.$nextEl&&swiper.navigation.$nextEl.addClass(swiper.params.navigation.disabledClass),swiper.navigation.$prevEl&&swiper.navigation.$prevEl.addClass(swiper.params.navigation.disabledClass),swiper.pagination.destroy(),swiper.pagination.$el&&swiper.pagination.$el.addClass(swiper.params.pagination.hiddenClass),swiper.navigation.enabled=!1)},handleResize:function(){if(u)switch(d=The7ElementorSettings.getResponsiveControlValue(r,"hover_visibility"),d){case"always":s.animateElements(a);break;case"disabled":s.resetElements(a)}},bindEvents:function(){elementorFrontend.elements.$window.on("the7-resize-width-debounce",t.handleResize),u&&p.on({mouseenter:t.mouseenter,mouseleave:t.mouseleave})},unBindEvents:function(){elementorFrontend.elements.$window.off("the7-resize-width-debounce",t.handleResize),u&&p.off({mouseenter:t.mouseenter,mouseleave:t.mouseleave})},mouseenter:function(){switch(d){case"hover":t.addAnimation();break;case"hover-hide":t.resetAnimation()}},mouseleave:function(){switch(d){case"hover":t.resetAnimation();break;case"hover-hide":t.addAnimation()}},onOverlayTransitionsEnd:function(e){"opacity"===e.originalEvent.propertyName&&s.resetElements(a)},resetAnimation:function(){l.on("transitionend",t.onOverlayTransitionsEnd)},addAnimation:function(){l.off("transitionend",t.onOverlayTransitionsEnd),s.animateElements(a)}},p.refresh=function(){r=o.getSettings(),t.unBindEvents(),t.bindEvents(),t.handleResize()},p.delete=function(){t.unBindEvents(),p.removeData("productSlider")},t.init()},e.fn.productSlider=function(){return this.each((function(){void 0!==e(this).data("productSlider")&&e(this).removeData("productSlider"),new e.productSlider(this)}))}}(jQuery);